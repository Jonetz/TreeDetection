# File handling
image_directory: "data/small_rgb" #"data/rgb/rgb"
height_data_path: "data/small_ndsm" #"data/nDSM"
# combined_model: "data/model_combined.pth"  # or specify the urban_model and forrest_model separately
urban_model: "data/models/model_combined.pth"  # optional if combined_model is used
forrest_model: "data/models/model_forrest.pth"  # optional if combined_model is used
forrest_outline: "data/BW-Waldflaechen/Waldflaechen.shp"  # optional if combined_model is used
output_directory: "output"  # default: ./output
tiles_path: "tiles"  # default: ./tiles
merged_path: "merged"  # default: ./merged
# continue_path: "/home/jonas/tree_detection/tree_detection/output/continue.yml"  # default: ./output/continue.yml
image_regex: ".*\\.tif$" # r"FDOP\d{2}_(\d+)_rgbi\.tif"  # default: ".*_fdop.tif"
height_data_regex: "(\\d+)\\.tif"  # default: ".*_nDSM.tif"

# Tile parameters
tile_width: 50  # default: 50
tile_height: 50  # default: 50
buffer: 20  # default: 0
batch_size: 1

# Overlap
overlapping_tiles_width: 3
overlapping_tiles_height: 3

# Post-processing parameters
exclude_files:  # default: []
  - "data/BW-Gewaesser/Gewaesserflaechen.shp"

ndvi_scaling_factor: 0.2 # default: 0.2, as the NDVI is 5x larger than the Height data array. We want both to be the same scale so that we can process them together.
height_scaling_factor: 1.0 # default 1.0

confidence_threshold: 0.3  # default: 0.3
containment_threshold: 0.6  # default: 0.9
height_threshold: 0  # default: 3
ndvi_mean_threshold: 0.001 # default: 0.05, very conservative, but should be safest for most cases
ndvi_var_threshold: 0.5 # default: 0.1

# Stiching & Cleaning parameters
iou_threshold: 0.6  # default: 0.5
confidence_threshold_stitching: 0.3  # default: 0.3
area_threshold: 1  # default: 1

# Device and parallelization
parallel: True  # default: true
num_workers: 1  # default: 10

# Logging and debugging
verbose: False  # default: false
debug: True  # default: false
keep_intermediate: True  # default: false